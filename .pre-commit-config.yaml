repos:
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v5.0.0
  hooks:
   - id: check-added-large-files
     args: ['--maxkb=1024']
   - id: check-ast
     exclude: "\\/ThirdParty\\/"
   - id: check-case-conflict
   - id: check-executables-have-shebangs
   - id: check-illegal-windows-names
   # See check-json5 to support orthanc json5 files - id: check-json
   - id: check-merge-conflict
     exclude: "\\/ThirdParty\\/"
     args: ['--assume-in-merge']
   - id: check-toml
     exclude: "\\/ThirdParty\\/"
   - id: check-vcs-permalinks
     exclude: "\\/ThirdParty\\/"
   - id: check-xml
     exclude: "\\/ThirdParty\\/"
   - id: check-yaml
     exclude: "\\/ThirdParty\\/"
   - id: check-shebang-scripts-are-executable
     exclude: "\\/ThirdParty\\/"
   - id: debug-statements
     exclude: "\\/ThirdParty\\/"
   - id: destroyed-symlinks
   - id: detect-private-key
   - id: end-of-file-fixer
     exclude: "\\.(md5|sha|sha512|svg|vtk|vtp)$|^Resources\\/[^\\/]+\\.h$|\\/ColorFiles\\/.+\\.txt$|Data\\/Input\\/.+$|\\/ThirdParty\\/|\\/Data\\/"
   - id: forbid-new-submodules
   - id: forbid-submodules
   - id: mixed-line-ending
     exclude: "\\.(sha|sha512|svg|vtk|vtp)$|\\/ThirdParty\\/|\\/Data\\/"
   - id: name-tests-test
     exclude: "\\/ThirdParty\\/"
     args: ['--pytest-test-first']
   - id: no-commit-to-branch
     args: ['--branch','dashboard','--branch','python-builds','--branch','release','--branch','hooks','--branch', 'main','--branch','main','--pattern','release-*']
   - id: trailing-whitespace
     exclude: "\\.(sha|sha512|svg|vtk|vtp)$|\\/ThirdParty\\/|\\/Data\\/"
- repo: https://github.com/pre-commit/mirrors-clang-format
  rev: v19.1.7
  hooks:
  - id: clang-format
    args: ['--style=file']
    files: '\.(c|cc|h|cxx|hxx)$'
    exclude: "\\/ThirdParty\\/|\\/Data\\/"
# need to keep version for black in .pre-commit-config.yaml, requirements_dev.txt, and .github/workflows/prostatid_ci.yml
- repo: https://github.com/psf/black
  rev: 24.2.0
  hooks: # check conformance to black formatting
   - id: black
     #args: ['--diff', '-v', '--target-version', 'py39' ] # if run without arguments, will fail and will format the files
     args: ['--target-version', 'py310' ] # Allow black to fail and provide auto-formatting to files that need it for compliance
     exclude: ".*build.*|\\/ThirdParty\\/|\\/Data\\/"
-   repo: https://github.com/asottile/pyupgrade
    rev: v3.21.1
    hooks:
    -   id: pyupgrade
        exclude: ".*build.*|\\/ThirdParty\\/|\\/Data\\/"
        args: [--py310-plus]

- repo: https://github.com/kynan/nbstripout
  rev: 0.7.1
  hooks:
    - id: nbstripout
- repo: https://github.com/python-jsonschema/check-jsonschema
  rev: "0.33.0"
  hooks:
    - id: check-dependabot
    - id: check-github-workflows
